(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{421:function(n,e,t){"use strict";t.r(e);var s=t(2),a=Object(s.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"title"}),e("p",[n._v("éšç€å‰ç«¯å˜é©ï¼ŒNginxä¹Ÿæˆä¸ºäº†å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆå¿…ä¸å¯å°‘åº”è¯¥å…·å¤‡çš„ä¸€é¡¹æŠ€èƒ½äº†ï¼Œé‚£nginxåˆ°åº•èµ·çš„æ˜¯å—ä½œç”¨ï¼Ÿå…¶å®Nginxä¸€ç›´è·Ÿæˆ‘ä»¬æ¯æ¯ç›¸å…³ï¼Œå®ƒæ—¢å¯ä»¥ä½œä¸º Web æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºè´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œå…·å¤‡é«˜æ€§èƒ½ã€é«˜å¹¶å‘è¿æ¥ç­‰")])]),e("h2",{attrs:{id:"è´Ÿè½½å‡è¡¡"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è´Ÿè½½å‡è¡¡"}},[n._v("#")]),n._v(" è´Ÿè½½å‡è¡¡ "),e("br")]),n._v(" "),e("p",[n._v("å½“ä¸€ä¸ªåº”ç”¨å•ä½æ—¶é—´å†…è®¿é—®é‡æ¿€å¢ï¼ŒæœåŠ¡å™¨çš„å¸¦å®½åŠæ€§èƒ½å—åˆ°å½±å“ï¼Œå½±å“å¤§åˆ°è‡ªèº«æ‰¿å—èƒ½åŠ›æ—¶ï¼ŒæœåŠ¡å™¨å°±ä¼šå®•æœºå¥”æºƒï¼Œä¸ºäº†é˜²æ­¢è¿™ç§ç°è±¡å‘ç”Ÿï¼Œä»¥åŠå®ç°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®Nginxè´Ÿè½½å‡è¡¡çš„æ–¹å¼æ¥åˆ†æ‹…æœåŠ¡å™¨å‹åŠ›")]),n._v(" "),e("p",[n._v("å½“æœ‰ä¸€å°æœåŠ¡å™¨å®•æœºæ—¶ï¼Œè´Ÿè½½å‡è¡¡å™¨å°±åˆ†é…å…¶ä»–çš„æœåŠ¡å™¨ç»™ç”¨æˆ·ï¼Œæå¤§çš„å¢åŠ çš„ç½‘ç«™çš„ç¨³å®šæ€§ å½“ç”¨æˆ·è®¿é—®webæ—¶å€™ï¼Œé¦–å…ˆè®¿é—®åˆ°çš„æ˜¯è´Ÿè½½å‡è¡¡å™¨ï¼Œå†é€šè¿‡è´Ÿè½½å‡è¡¡å™¨å°†è¯·æ±‚è½¬å‘ç»™åå°æœåŠ¡å™¨")]),n._v(" "),e("h3",{attrs:{id:"è´Ÿè½½å‡è¡¡çš„å‡ ç§å¸¸ç”¨æ–¹å¼"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è´Ÿè½½å‡è¡¡çš„å‡ ç§å¸¸ç”¨æ–¹å¼"}},[n._v("#")]),n._v(" "),e("strong",[n._v("è´Ÿè½½å‡è¡¡çš„å‡ ç§å¸¸ç”¨æ–¹å¼")])]),n._v(" "),e("ul",[e("li",[e("strong",[n._v("è½®è¯¢ï¼ˆé»˜è®¤ï¼‰")])])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// nginx.config\nupstream backserver {\n    server 192.168.0.1;\n    server 192.168.0.2;\n}\n")])])]),e("ul",[e("li",[e("strong",[n._v("æƒé‡weight")])])]),n._v(" "),e("p",[n._v("æŒ‡å®šä¸åŒipçš„æƒé‡ï¼Œæƒé‡ä¸è®¿é—®æ¯”æˆæ­£ç›¸å…³ï¼Œæƒé‡è¶Šé«˜ï¼Œè®¿é—®è¶Šå¤§ï¼Œé€‚ç”¨äºä¸åŒæ€§èƒ½çš„æœºå™¨")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// nginx.config\nupstream backserver {\n    server 192.168.0.1 weight=2;\n    server 192.168.0.2 weight=8;\n}\n")])])]),e("ul",[e("li",[e("strong",[n._v("å“åº”æ—¶é—´æ¥åˆ†é…")])])]),n._v(" "),e("p",[n._v("å…¬å¹³ç«äº‰ï¼Œè°ç›¸åº”å¿«ï¼Œè°å¤„ç†ï¼Œä¸è¿‡è¿™ç§æ–¹å¼éœ€è¦ä¾èµ–åˆ°ç¬¬ä¸‰æ–¹æ’ä»¶nginx-upstream-fairï¼Œéœ€è¦å…ˆå®‰è£…")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// nginx.config\nupstream backserver {\n    server 192.168.0.1;\n    server 192.168.0.2;\n    fair;\n}\nserver {\n    listen 80;\n    server_name localhost; \n    location / {\n      proxy_pass  http://backserver;\n    }\n}\n")])])]),e("h3",{attrs:{id:"å¥åº·æ£€æŸ¥"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¥åº·æ£€æŸ¥"}},[n._v("#")]),n._v(" "),e("strong",[n._v("å¥åº·æ£€æŸ¥")])]),n._v(" "),e("p",[n._v("Nginx è‡ªå¸¦ ngx_http_upstream_moduleï¼ˆå¥åº·æ£€æµ‹æ¨¡å—ï¼‰æœ¬è´¨ä¸ŠæœåŠ¡å™¨å¿ƒè·³çš„æ£€æŸ¥ï¼Œé€šè¿‡å®šæœŸè½®è¯¢å‘é›†ç¾¤é‡Œçš„æœåŠ¡å™¨å‘é€å¥åº·æ£€æŸ¥è¯·æ±‚,æ¥æ£€æŸ¥é›†ç¾¤ä¸­æ˜¯å¦æœ‰æœåŠ¡å™¨å¤„äºå¼‚å¸¸çŠ¶æ€\nå¦‚æœæ£€æµ‹å‡ºå…¶ä¸­æŸå°æœåŠ¡å™¨å¼‚å¸¸,é‚£ä¹ˆåœ¨é€šè¿‡å®¢æˆ·ç«¯è¯·æ±‚nginxåå‘ä»£ç†è¿›æ¥çš„éƒ½ä¸ä¼šè¢«å‘é€åˆ°è¯¥æœåŠ¡å™¨ä¸Šï¼ˆç›´è‡³ä¸‹æ¬¡è½®è®­å¥åº·æ£€æŸ¥æ­£å¸¸ï¼‰")]),n._v(" "),e("p",[n._v("åŸºæœ¬ä¾‹å­å¦‚ä¸‹ğŸ‘‡")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("upstream backserver{\n    server 192.168.0.1  max_fails=1 fail_timeout=40s;\n    server 192.168.0.2  max_fails=1 fail_timeout=40s;\n}\n\nserver {\n    listen 80;\n    server_name localhost;\n    location / {\n      proxy_pass http://backend;\n    }\n}\n")])])]),e("p",[n._v("æ¶‰åŠä¸¤ä¸ªé…ç½®ï¼š")]),n._v(" "),e("ul",[e("li",[n._v("fail_timeout : è®¾å®šæœåŠ¡å™¨è¢«è®¤ä¸ºä¸å¯ç”¨çš„æ—¶é—´æ®µä»¥åŠç»Ÿè®¡å¤±è´¥å°è¯•æ¬¡æ•°çš„æ—¶é—´æ®µï¼Œé»˜è®¤ä¸º10s")]),n._v(" "),e("li",[n._v("max_fails : è®¾å®šNginxä¸æœåŠ¡å™¨é€šä¿¡çš„å°è¯•å¤±è´¥çš„æ¬¡æ•°ï¼Œé»˜è®¤ä¸ºï¼š1æ¬¡")])]),n._v(" "),e("h2",{attrs:{id:"åå‘ä»£ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åå‘ä»£ç†"}},[n._v("#")]),n._v(" "),e("strong",[n._v("åå‘ä»£ç†")])]),n._v(" "),e("p",[n._v("åå‘ä»£ç†æŒ‡çš„æ˜¯ï¼Œå½“ä¸€ä¸ªå®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚,æƒ³è¦è®¿é—®æœåŠ¡å™¨ä¸Šçš„å†…å®¹ï¼Œä½†å°†è¢«è¯¥è¯·æ±‚å…ˆå‘é€åˆ°ä¸€ä¸ªä»£ç†æœåŠ¡å™¨proxy,è¿™ä¸ªä»£ç†æœåŠ¡å™¨ï¼ˆNginxï¼‰å°†æŠŠè¯·æ±‚ä»£ç†åˆ°å’Œè‡ªå·±å±äºåŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹çš„å†…éƒ¨æœåŠ¡å™¨ä¸Š,è€Œç”¨æˆ·é€šè¿‡å®¢æˆ·ç«¯çœŸæ­£æƒ³è·å¾—çš„å†…å®¹å°±å­˜å‚¨åœ¨è¿™äº›å†…éƒ¨æœåŠ¡å™¨ä¸Šï¼Œæ­¤æ—¶Nginxä»£ç†æœåŠ¡å™¨æ‰¿æ‹…çš„è§’è‰²å°±æ˜¯ä¸€ä¸ªä¸­é—´äººï¼Œèµ·åˆ°åˆ†é…å’Œæ²Ÿé€šçš„ä½œç”¨")]),n._v(" "),e("ul",[e("li",[e("p",[e("strong",[n._v("ä¸ºä»€ä¹ˆéœ€è¦åå‘ä»£ç†?")])]),n._v(" "),e("ul",[e("li",[n._v("é˜²ç«å¢™ä½œç”¨"),e("br"),n._v("\nå½“ä½ çš„åº”ç”¨ä¸æƒ³ç›´æ¥æš´éœ²ç»™å®¢æˆ·ç«¯ï¼ˆä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯æ— æ³•ç›´æ¥é€šè¿‡è¯·æ±‚è®¿é—®çœŸæ­£çš„æœåŠ¡å™¨ï¼Œåªèƒ½é€šè¿‡Nginxï¼‰ï¼Œé€šè¿‡nginxè¿‡æ»¤æ‰æ²¡æœ‰æƒé™æˆ–è€…éæ³•çš„è¯·æ±‚ï¼Œæ¥ä¿éšœå†…éƒ¨æœåŠ¡å™¨çš„å®‰å…¨")]),n._v(" "),e("li",[n._v("è´Ÿè½½å‡è¡¡"),e("br"),n._v('\næœ¬è´¨ä¸Šè´Ÿè½½å‡è¡¡å°±æ˜¯åå‘ä»£ç†çš„ä¸€ç§åº”ç”¨åœºæ™¯ï¼Œå¯ä»¥é€šè¿‡nginxå°†æ¥æ”¶åˆ°çš„å®¢æˆ·ç«¯è¯·æ±‚"å‡åŒ€åœ°"åˆ†é…åˆ°è¿™ä¸ªé›†ç¾¤ä¸­æ‰€æœ‰çš„æœåŠ¡å™¨ä¸Š(å…·ä½“çœ‹è´Ÿè½½å‡è¡¡æ–¹å¼),ä»è€Œå®ç°æœåŠ¡å™¨å‹åŠ›çš„è´Ÿè½½å‡è¡¡')])])]),n._v(" "),e("li",[e("p",[e("strong",[n._v("å¦‚ä½•ä½¿ç”¨åå‘ä»£ç†")])])])]),n._v(" "),e("p",[n._v("æˆ‘ä»¬é€šè¿‡æ¨¡æ‹Ÿå†…éƒ¨æœåŠ¡å™¨çš„ç«¯å£å¯åŠ¨çš„nodejsé¡¹ç›®è®¾ç½®åå‘ä»£ç†åˆ°80ç«¯å£è®¿é—®")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("// nginx.config\nserver  {\n  listen 80;\n  server_name localhost;\n  location / {\n    proxy_pass http://127.0.0.1:8000;ï¼ˆupstreamï¼‰\n  }\n}\n")])])]),e("p",[n._v("åœ¨ Nginx åå‘ä»£ç†æ˜¯ï¼Œä¼šé€šè¿‡ location åŠŸèƒ½åŒ¹é…æŒ‡å®šçš„ URIï¼Œç„¶åæŠŠæ¥æ”¶åˆ°çš„ç¬¦åˆåŒ¹é… URIçš„è¯·æ±‚é€šè¿‡ proxy_pass è½¬ç§»ç»™ä¹‹å‰å®šä¹‰å¥½çš„ upstream èŠ‚ç‚¹æ± ")]),n._v(" "),e("h3",{attrs:{id:"httpsé…ç½®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#httpsé…ç½®"}},[n._v("#")]),n._v(" "),e("strong",[n._v("Httpsé…ç½®")])]),n._v(" "),e("p",[n._v("Nginx å¸¸ç”¨æ¥é…ç½®Httpsè®¤è¯ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ­¥éª¤ï¼šç­¾ç½²ç¬¬ä¸‰æ–¹å¯ä¿¡ä»»çš„ SSL è¯ä¹¦ å’Œ é…ç½® HTTPS")]),n._v(" "),e("ul",[e("li",[e("strong",[n._v("ç­¾ç½²ç¬¬ä¸‰æ–¹å¯ä¿¡ä»»çš„ SSL")])])]),n._v(" "),e("p",[n._v("é…ç½® HTTPS è¦ç”¨åˆ°ç§é’¥ example.key æ–‡ä»¶å’Œ example.crt è¯ä¹¦æ–‡ä»¶ï¼Œè€Œç”³è¯·è¯ä¹¦æ–‡ä»¶çš„æ—¶å€™è¦ç”¨åˆ° example.csr æ–‡ä»¶ã€‚")]),n._v(" "),e("ul",[e("li",[e("strong",[n._v("Nginxé…ç½®https")])])]),n._v(" "),e("p",[n._v("è¦å¼€å¯ HTTPS æœåŠ¡ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¿¡æ¯å—(server)ï¼Œå¿…é¡»ä½¿ç”¨ç›‘å¬å‘½ä»¤ listen çš„ ssl å‚æ•°å’Œå®šä¹‰æœåŠ¡å™¨è¯ä¹¦æ–‡ä»¶å’Œç§é’¥æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("\nserver {\n   #sslå‚æ•°\n   listen              443 ssl; //ç›‘å¬443ç«¯å£ï¼Œå› ä¸º443ç«¯å£æ˜¯httpsçš„é»˜è®¤ç«¯å£ã€‚80ä¸ºhttpçš„é»˜è®¤ç«¯å£\n   server_name         example.com;\n   #è¯ä¹¦æ–‡ä»¶\n   ssl_certificate     example.com.crt;\n   #ç§é’¥æ–‡ä»¶\n   ssl_certificate_key example.com.key;\n}\n")])])]),e("ul",[e("li",[n._v("ssl_certificate:è¯ä¹¦çš„ç»å¯¹è·¯å¾„")]),n._v(" "),e("li",[n._v("ssl_certificate_key:  å¯†é’¥çš„ç»å¯¹è·¯å¾„;")])]),n._v(" "),e("h2",{attrs:{id:"å¸¸ç”¨çš„é…ç½®"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸ç”¨çš„é…ç½®"}},[n._v("#")]),n._v(" "),e("strong",[n._v("å¸¸ç”¨çš„é…ç½®")])]),n._v(" "),e("ul",[e("li",[e("strong",[n._v("IPç™½åå•")])])]),n._v(" "),e("p",[n._v("å¯ä»¥é…ç½®nginxçš„ç™½åå•ï¼Œè§„å®šæœ‰å“ªäº›ipå¯ä»¥è®¿é—®ä½ çš„æœåŠ¡å™¨ï¼Œé˜²çˆ¬è™«å¿…å¤‡")]),n._v(" "),e("ol",[e("li",[n._v("ç®€å•é…ç½®")])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("server {\n      location / {\n          deny  192.168.0.1; // ç¦æ­¢è¯¥ipè®¿é—®\n          deny  all; // ç¦æ­¢æ‰€æœ‰\n      }\n}\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[n._v("ç™½åå•é…ç½®")])]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("å»ºç«‹ç™½åå• vim /etc/nginx/white_ip.conf\n ...\n192.168.0.1 1;\n ...\nå¤åˆ¶ä»£ç \nä¿®æ”¹nginxé…ç½®(nginx.conf)geo $remote_addr $ip_whitelist{\n    default 0;\n    include ip.conf;\n}\n// geo æŒ‡ä»¤ä¸»è¦æ˜¯å¯ä»¥æ ¹æ®æŒ‡å®šå˜é‡çš„å€¼æ˜ å°„å‡ºä¸€ä¸ªæ–°å˜é‡ã€‚å¦‚æœä¸æŒ‡å®šå˜é‡ï¼Œé»˜è®¤ä¸º$remote_addr\n")])])]),e("p",[n._v("ä¸ºåŒ¹é…é¡¹åšç™½åå•é…ç½®")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("server {\n    location / {\n        if ( $ip_whitelist = 0 ){\n            return 403; //ä¸åœ¨ç™½åå•è¿”å› 403\n        }\n        index index.html;\n        root /tmp;\n    }\n}\n")])])]),e("ul",[e("li",[e("strong",[n._v("é€‚é…PCä¸ç§»åŠ¨ç¯å¢ƒ")])])]),n._v(" "),e("p",[n._v("å½“ç”¨æˆ·ä»ç§»åŠ¨ç«¯æ‰“å¼€PCç«¯baidu.comçš„åœºæ™¯æ—¶ï¼Œå°†è‡ªåŠ¨è·³è½¬æŒ‡ç§»åŠ¨ç«¯m.baidu.comï¼Œæœ¬è´¨ä¸Šæ˜¯Nginxå¯ä»¥é€šè¿‡å†…ç½®å˜é‡$http_user_agentï¼Œè·å–åˆ°è¯·æ±‚å®¢æˆ·ç«¯çš„userAgentï¼Œä»è€ŒçŸ¥é“å½“å‰ç”¨æˆ·å½“å‰ç»ˆç«¯æ˜¯ç§»åŠ¨ç«¯è¿˜æ˜¯PCï¼Œè¿›è€Œé‡å®šå‘åˆ°H5ç«™è¿˜æ˜¯PCç«™")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("server {\n location / {\n      //ç§»åŠ¨ã€pcè®¾å¤‡agentè·å–\n      if ($http_user_agent ~* '(Android|webOS|iPhone)') {\n          set $mobile_request '1';\n      }\n      if ($mobile_request = '1') {\n          rewrite ^.+ http://m.baidu.com;\n      }\n  }\n}\n")])])]),e("ul",[e("li",[e("strong",[n._v("é…ç½®gzip")])])]),n._v(" "),e("p",[n._v("å¼€å¯Nginx gzipï¼Œå‹ç¼©å,é™æ€èµ„æºçš„å¤§å°ä¼šå¤§å¤§çš„å‡å°‘,ä»è€Œå¯ä»¥èŠ‚çº¦å¤§é‡çš„å¸¦å®½,æé«˜ä¼ è¾“æ•ˆç‡,å¸¦æ¥æ›´å¥½çš„å“åº”å’Œä½“éªŒ")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('server{\n    gzip on; //å¯åŠ¨\n    gzip_buffers 32 4K;\n    gzip_comp_level 6; //å‹ç¼©çº§åˆ«ï¼Œ1-10ï¼Œæ•°å­—è¶Šå¤§å‹ç¼©çš„è¶Šå¥½\n    gzip_min_length 100; //ä¸å‹ç¼©ä¸´ç•Œå€¼ï¼Œå¤§äº100çš„æ‰å‹ç¼©ï¼Œä¸€èˆ¬ä¸ç”¨æ”¹\n    gzip_types application/javascript text/css text/xml;\n    gzip_disable "MSIE [1-6]\\."; // IE6å¯¹Gzipä¸å‹å¥½ï¼Œå¯¹Gzip\n    gzip_vary on;\n}\n')])])]),e("ul",[e("li",[e("strong",[n._v("Nginxé…ç½®è·¨åŸŸè¯·æ±‚")])])]),n._v(" "),e("p",[n._v("å½“å‡ºç°403è·¨åŸŸé”™è¯¯çš„æ—¶å€™ï¼Œè¿˜æœ‰ No 'Access-Control-Allow-Origin' header is present on the requested resourceæŠ¥é”™ç­‰ï¼Œéœ€è¦ç»™NginxæœåŠ¡å™¨é…ç½®å“åº”çš„headerå‚æ•°ï¼š")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("location / {\n    add_header Access-Control-Allow-Origin *;\n    add_header Access-Control-Allow-Methods 'GET, POST, OPTIONS';\n    add_header Access-Control-Allow-Headers 'DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization';\n\n    if ($request_method = 'OPTIONS') {\n        return 204;\n    }\n}\n")])])]),e("h2",{attrs:{id:"å¦‚ä½•ä½¿ç”¨nginx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•ä½¿ç”¨nginx"}},[n._v("#")]),n._v(" "),e("strong",[n._v("å¦‚ä½•ä½¿ç”¨Nginx")])]),n._v(" "),e("p",[n._v("é€šè¿‡åœ¨æœ¬åœ°ä½¿ç”¨Nginxï¼Œä»å¯åŠ¨ã€æ›´æ”¹ã€é‡å¯ç­‰ç¯èŠ‚æ¥ä»‹ç»Nginxçš„åŸºæœ¬ä½¿ç”¨")]),n._v(" "),e("ul",[e("li",[n._v("å¦‚ä½•å¯åŠ¨ sudo nginx")]),n._v(" "),e("li",[n._v("ä¿®æ”¹nginx.conf é…ç½® (å…·ä½“çœ‹ä½ é…ç½®ä½ç½®)vim /usr/local/etc/nginx/nginx.conf")]),n._v(" "),e("li",[n._v("æ£€æŸ¥è¯­æ³•æ˜¯å¦æ­£å¸¸ sudo nginx -t")]),n._v(" "),e("li",[n._v("é‡å¯nginx sudo nginx -s reload")]),n._v(" "),e("li",[n._v("åˆ›å»ºè½¯é“¾æ¥(ä¾¿äºç®¡ç†å¤šåº”ç”¨nginx)")])]),n._v(" "),e("p",[n._v("å½“æˆ‘ä»¬éœ€è¦ç®¡ç†å¤šä¸ªç½‘ç«™çš„nginxï¼Œnginxæ–‡ä»¶æ”¾åœ¨ä¸€èµ·æ˜¯æœ€å¥½çš„ç®¡ç†æ–¹å¼ï¼Œä¸€èˆ¬éƒ½å­˜åœ¨/nginx/conf.d/ï¼Œæˆ‘ä»¬éœ€è¦æŠŠé…ç½®æ–‡ä»¶ä¸¢åˆ° /etc/nginx/conf.d/ æ–‡ä»¶å¤¹ä¸‹ï¼Œæ€æ ·æ‰èƒ½ä½¿è¿™ä¸ªé…ç½®æ–‡ä»¶æ—¢åœ¨ç¨‹åºæ–‡ä»¶å¤¹ä¸‹ï¼Œåˆåœ¨ /etc/nginx/conf.d/æ–‡ä»¶å¤¹ä¸‹å‘¢ï¼Ÿ")]),n._v(" "),e("p",[n._v("å‡å¦‚æˆ‘ä»¬åœ¨ç¨‹åºæ–‡ä»¶å¤¹ä¸‹æœ‰ä¸€ä¸ª ngxin é…ç½®æ–‡ä»¶ï¼š/home/app/app.nginx.conf æˆ‘ä»¬éœ€è¦ç»™è¿™ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥åˆ° /etc/nginx/conf.d/ ä¸‹ï¼š")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("ln -s /home/app/app.example.com.nginx.conf /etc/nginx/conf.d/app.nginx.conf\n")])])]),e("p",[n._v("è¿™æ ·æ“ä½œä¹‹åï¼Œå½“æˆ‘ä»¬æ”¹åº”ç”¨é…ç½®æ–‡ä»¶ï¼Œ/etc/nginx/conf.d/ ä¸‹ä¸ä¹‹å¯¹åº”çš„é…ç½®æ–‡ä»¶ä¹Ÿä¼šè¢«ä¿®æ”¹ï¼Œä¿®æ”¹åé‡å¯ nginx å°±èƒ½å¤Ÿä½¿æ–°çš„ ngxin é…ç½®ç”Ÿæ•ˆäº†ã€‚")])])}),[],!1,null,null,null);e.default=a.exports}}]);